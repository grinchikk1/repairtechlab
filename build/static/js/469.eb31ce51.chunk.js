"use strict";(self.webpackChunkrepairtechlab=self.webpackChunkrepairtechlab||[]).push([[469],{1768:(e,t,n)=>{n.d(t,{Z:()=>s});n(2791);var r=n(4294),i=n(5565),o=n(184);function s(e){let{onClick:t,text:n,color:s="#000",type:a="button"}=e;return(0,o.jsx)(r.Z,{disableElevation:!0,variant:"outlined",type:a,onClick:t,sx:{color:s},children:(0,o.jsx)(i.E.div,{whileHover:{scale:1.2},whileTap:{scale:.8},transition:{type:"spring",stiffness:400,damping:20},children:n})})}},2467:(e,t,n)=>{n.d(t,{Z:()=>d});n(2791);var r=n(3543),i=n(9658),o=n(7317),s=n(8384),a=n(9388),l=n(5584),u=n(184);const d=function(e){let{open:t,onClose:n,text:d,titleText:c,severity:h}=e;const m={success:(0,u.jsx)(s.Z,{fontSize:"inherit"}),error:(0,u.jsx)(a.Z,{fontSize:"inherit"}),info:(0,u.jsx)(l.Z,{fontSize:"inherit"})};return(0,u.jsx)(r.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:3e3,onClose:n,children:(0,u.jsxs)(i.Z,{onClose:n,severity:h,iconMapping:m,children:[(0,u.jsx)(o.Z,{children:c}),d]})})}},8469:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var r=n(2791),i=n(697),o=n(3239),s=n(890),a=n(8308),l=n(2506),u=n(9434),d=n(8007);const c={_origin:"https://api.emailjs.com"},h=(e,t,n)=>{if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class m{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const p=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("load",(e=>{let{target:t}=e;const n=new m(t);200===n.status||"OK"===n.text?r(n):i(n)})),o.addEventListener("error",(e=>{let{target:t}=e;i(new m(t))})),o.open("POST",c._origin+e,!0),Object.keys(n).forEach((e=>{o.setRequestHeader(e,n[e])})),o.send(t)}))},x={init:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";c._userID=e,c._origin=t},send:(e,t,n,r)=>{const i=r||c._userID;h(i,e,t);const o={lib_version:"3.11.0",user_id:i,service_id:e,template_id:t,template_params:n};return p("/api/v1.0/email/send",JSON.stringify(o),{"Content-type":"application/json"})},sendForm:(e,t,n,r)=>{const i=r||c._userID,o=(e=>{let t;if(t="string"===typeof e?document.querySelector(e):e,!t||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t})(n);h(i,e,t);const s=new FormData(o);return s.append("lib_version","3.11.0"),s.append("service_id",e),s.append("template_id",t),s.append("user_id",i),p("/api/v1.0/email/send-form",s)}};var v=n(2986),f=n(2467),b=n(5322),C=n(9652),g=n(1768),j=n(184);const y=d.Ry().shape({username:d.Z_().required("\u041f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u0435"),phone:d.Z_().matches(/^\+?3?8?(0\d{9})$/,"\u041d\u0435 \u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u0435"),email:d.Z_().email("\u041d\u0435 \u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0448\u0442\u0438").required("\u041f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u0435"),textField:d.Z_().required("\u041f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432\u02bc\u044f\u0437\u043a\u043e\u0432\u0435")});function Z(){const[e,t]=(0,r.useState)(""),[n,d]=(0,r.useState)(""),[c,h]=(0,r.useState)("success"),[m,p]=(0,r.useState)(!1),Z=(0,u.I0)(),{customer:_,status:w}=(0,u.v9)((e=>e.customer)),{user:T}=(0,r.useContext)(b._);x.init("gsBdA1-PGxAR_KPtf"),(0,r.useEffect)((()=>{T&&Z((0,C.BT)(T.email))}),[Z,T]);const B=(0,l.TA)({enableReinitialize:!0,initialValues:{username:_?_.name:"",email:_?_.email:"",phone:_?_.phone:"",textField:"",status:!0},validationSchema:y,onSubmit:async(e,n)=>{let{resetForm:r}=n;const i={name:e.username,email:e.email,phone:e.phone,textField:e.textField};await(0,v.Id)(i),await x.send("service_q1zf099","template_i3gidkf",e,"gsBdA1-PGxAR_KPtf"),t("\u0412\u0456\u0442\u0430\u0454\u043c\u043e"),d("\u0424\u043e\u0440\u043c\u0430 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430"),h("success"),p(!0),r()}});return"loading"===w?(0,j.jsx)(i.Z,{sx:{textAlign:"center",mt:8},children:(0,j.jsx)(o.Z,{color:"secondary"})}):(0,j.jsxs)(i.Z,{component:"form",onSubmit:B.handleSubmit,sx:{margin:"0 auto",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"space-evenly",p:4,maxWidth:"480px"},children:[(0,j.jsx)(s.Z,{variant:"h4",color:"secondary",fontWeight:"bold",children:"\u041d\u0430\u043f\u0438\u0448\u0456\u0442\u044c \u043d\u0430\u043c"}),(0,j.jsx)(s.Z,{variant:"h6",color:"primary",sx:{pt:3,pb:1},children:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u0406\u043c\u02bc\u044f"}),(0,j.jsx)(a.Z,{variant:"outlined",type:"text",name:"username",value:B.values.username,autoComplete:"given-name",error:(B.touched.username||B.submitCount>0)&&Boolean(B.errors.username),helperText:B.touched.username||B.submitCount>0?B.errors.username||"\u200b":" ",onChange:B.handleChange,onBlur:B.handleBlur}),(0,j.jsx)(s.Z,{variant:"h6",color:"primary",sx:{pt:3,pb:1},children:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u041f\u043e\u0448\u0442\u0443"}),(0,j.jsx)(a.Z,{type:"email",name:"email",value:B.values.email,variant:"outlined",autoComplete:"email",error:(B.touched.email||B.submitCount>0)&&Boolean(B.errors.email),helperText:B.touched.email||B.submitCount>0?B.errors.email||"\u200b":" ",onChange:B.handleChange,onBlur:B.handleBlur}),(0,j.jsx)(s.Z,{variant:"h6",color:"primary",sx:{pt:3,pb:1},children:"\u0412\u043a\u0430\u0436\u0456\u0442\u044c \u041d\u043e\u043c\u0435\u0440 \u0422\u0435\u043b\u0435\u0444\u043e\u043d\u0443"}),(0,j.jsx)(a.Z,{type:"tel",name:"phone",value:B.values.phone,variant:"outlined",autoComplete:"phone",error:(B.touched.phone||B.submitCount>0)&&Boolean(B.errors.phone),helperText:B.touched.phone||B.submitCount>0?B.errors.phone||"\u200b":" ",onChange:B.handleChange,onBlur:B.handleBlur}),(0,j.jsx)(s.Z,{variant:"h6",color:"primary",sx:{pt:3,pb:1},children:"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"}),(0,j.jsx)(a.Z,{multiline:!0,sx:{mb:4},name:"textField",value:B.values.textField,variant:"outlined",autoComplete:"text",error:(B.touched.textField||B.submitCount>0)&&Boolean(B.errors.textField),helperText:B.touched.textField||B.submitCount>0?B.errors.textField||"\u200b":" ",onChange:B.handleChange,onBlur:B.handleBlur}),(0,j.jsx)(g.Z,{type:"submit",text:"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438"}),(0,j.jsx)(f.Z,{open:m,onClose:()=>p(!1),titleText:e,text:n,severity:c})]})}}}]);
//# sourceMappingURL=469.eb31ce51.chunk.js.map